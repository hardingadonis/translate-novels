generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = "file:translate-novels-database.db"
}

// --------------------------------------------------------------------------------

model APILMStudio {
  id          Int    @id @default(autoincrement())
  apiEndpoint String @unique @map("api_endpoint")

  @@map("api_lm_studio")
}

model Novel {
  id    Int    @id @default(autoincrement())
  title String @map("title")

  chapters Chapter[]

  @@map("novels")
}

model Chapter {
  id      Int @id @default(autoincrement())
  novelId Int @map("novel_id")

  rawContent        String  @map("raw_content")
  vietnameseContent String? @map("vietnamese_content")
  order             Int     @default(0) @map("order")

  novel Novel @relation(fields: [novelId], references: [id], onDelete: Cascade)

  @@map("chapters")
}
